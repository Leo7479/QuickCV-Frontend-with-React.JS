import { Quote } from "lucide-react";
import { useEffect } from "react";

const ReviewCard = ({ name, image, quote, stars, extraClass }) => {
    var Stars = [];
    while (stars > 0) {
        if (stars < 1) {
            let percentage = stars * 100;
            let element = <div className='relative'> <svg xmlns='http://www.w3.org/2000/svg' width='20px' height='20px' fill='none' className='absolute top-0 left-0' data-sentry-element='IconTrustpilotSquare' data-sentry-source-file='Trustpilot.tsx'><path fill='var(--light-text)' d='M20.47 0H.59v21.38h19.88z'></path><path fill='#fff' d='m10.53 14.4 3.02-.82 1.27 4.19-4.29-3.36ZM17.5 9h-5.32l-1.64-5.4L8.9 9H3.57l4.31 3.34-1.63 5.38 4.3-3.34 2.65-2.04z'></path></svg><div className="h-full overflow-hidden relative z-[1]" style={{width:percentage+"%"}}><svg xmlns='http://www.w3.org/2000/svg' width='20px' height='20px' fill='none' className='relative' data-sentry-element='IconTrustpilotSquare' data-sentry-source-file='Trustpilot.tsx'><path fill='#00B67A' d='M20.47 0H.59v21.38h19.88z'></path><path fill='#fff' d='m10.53 14.4 3.02-.82 1.27 4.19-4.29-3.36ZM17.5 9h-5.32l-1.64-5.4L8.9 9H3.57l4.31 3.34-1.63 5.38 4.3-3.34 2.65-2.04z'></path></svg></div></div>;
            Stars.push(element);
            stars = 0;
            break;
        } else {
            Stars.push(<svg xmlns='http://www.w3.org/2000/svg' width='20px' height='20px' fill='none' className='relative' data-sentry-element='IconTrustpilotSquare' data-sentry-source-file='Trustpilot.tsx'><path fill='#00B67A' d='M20.47 0H.59v21.38h19.88z'></path><path fill='#fff' d='m10.53 14.4 3.02-.82 1.27 4.19-4.29-3.36ZM17.5 9h-5.32l-1.64-5.4L8.9 9H3.57l4.31 3.34-1.63 5.38 4.3-3.34 2.65-2.04z'></path></svg>);
            stars -= 1;
        }
    }
    return (
        <div className={"relative max-w-[400px] shadow-xl cursor-pointer h-fit bg-white rounded-b-2xl p-6 border-t-4 border-t-solid border-t-dark flex flex-col justify-start items-center gap-y-6 shrink-0"+" "+extraClass}>
            <div className="w-full h-fit flex flex-col justify-start items-start gap-y-4">
                <div className="w-full h-fit flex gap-x-4">
                    <span className="w-fit h-fit">
                        <Quote fill="#000099" color="#000099" size={20} style={{ transform: "rotateY(180deg)" }} />
                    </span>
                    <p className="text-dark">{quote}</p>
                </div>
                <div className="w-full flex justify-start items-center h-fit gap-x-4">
                    <img className="w-[50px] h-[50px] rounded-full object-cover" src={image} alt=""/>
                    <h1>{name}</h1>
                </div>
            </div>
            <div className="w-full h-fit flex flex-col justify-center items-end gap-y-2">
                <div>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 98 24" className="w-[100px]" data-sentry-element="IconTrustpilot" data-sentry-source-file="Trustpilot.tsx"><path fill="#000" d="M25.573 8.66h9.843v1.848h-3.875v10.379h-2.125V10.508h-3.86l.017-1.849Zm9.422 3.372h1.816v1.72h.032c.173-.524.5-.982.94-1.314.228-.195.487-.357.78-.47a2.3 2.3 0 0 1 .859-.163h.47l.26.033v1.88l-.422-.064-.422-.032a2.24 2.24 0 0 0-1.686.762c-.227.28-.403.599-.52.94-.129.39-.194.811-.194 1.298v4.216h-1.946zm14.075 8.855h-1.913v-1.233h-.033c-.243.454-.6.795-1.07 1.07a2.8 2.8 0 0 1-1.443.406c-1.151 0-1.995-.276-2.514-.86-.519-.567-.778-1.46-.778-2.594v-5.66h1.946v5.433c0 .778.146 1.33.454 1.654.292.324.713.486 1.249.486q.607 0 1.021-.194c.276-.13.503-.292.665-.52.178-.21.292-.47.373-.762a3.6 3.6 0 0 0 .114-.956v-5.125h1.946v8.855zm3.308-2.838c.065.567.276.973.649 1.216.373.227.827.324 1.346.324.429-.004.855-.07 1.265-.194.2-.075.373-.204.503-.373a.83.83 0 0 0 .178-.6.88.88 0 0 0-.276-.617c-.178-.162-.389-.275-.648-.389a5.6 5.6 0 0 0-.909-.243l-1.037-.227a11 11 0 0 1-1.054-.292 2.7 2.7 0 0 1-.909-.486 1.8 1.8 0 0 1-.632-.746c-.162-.309-.243-.65-.243-1.12 0-.486.113-.875.357-1.2.233-.324.538-.59.891-.778.357-.21.763-.357 1.2-.438a6.8 6.8 0 0 1 2.546.033c.406.097.795.26 1.12.486.34.211.615.487.826.844.227.324.357.762.422 1.248h-2.027c-.097-.47-.308-.778-.633-.94a2.6 2.6 0 0 0-1.15-.26 2.9 2.9 0 0 0-1.022.162 1.3 1.3 0 0 0-.422.276.65.65 0 0 0-.178.487c0 .227.08.405.243.55.162.163.373.26.648.374a6 6 0 0 0 .908.243l1.055.243c.356.082.697.163 1.037.292a2.84 2.84 0 0 1 1.557 1.2c.17.337.254.71.243 1.087 0 .519-.113.973-.356 1.346-.241.36-.556.664-.925.892-.373.227-.81.389-1.264.502-.96.24-1.965.229-2.92-.032a3.9 3.9 0 0 1-1.232-.568 2.7 2.7 0 0 1-.81-.973 3.15 3.15 0 0 1-.325-1.362h1.962v.016h.016zm6.406-6h1.476V9.357h1.945V12h1.752v1.46h-1.752v4.718l.033.535c.016.163.065.292.113.39.07.1.165.178.276.227.13.048.292.08.519.08l.405-.015.406-.065v1.508l-.633.065c-.21.032-.405.032-.632.032-.519 0-.924-.048-1.233-.146a1.8 1.8 0 0 1-.73-.422 1.5 1.5 0 0 1-.356-.697 5.5 5.5 0 0 1-.113-.973v-5.221h-1.476V12zm6.535 0h1.832v1.2h.033a2.52 2.52 0 0 1 1.135-1.12c.486-.226 1.005-.324 1.59-.324.696 0 1.296.098 1.815.373.502.227.942.572 1.281 1.006.352.441.61.948.763 1.492a6.7 6.7 0 0 1 .032 3.567c-.162.535-.39 1.054-.697 1.46a3.45 3.45 0 0 1-2.87 1.427 4.9 4.9 0 0 1-1.655-.325 2.9 2.9 0 0 1-1.264-1.054h-.033v4.411h-1.946v-12.13h-.016zm6.794 4.427a4 4 0 0 0-.632-2.157 2.6 2.6 0 0 0-.762-.697 2.06 2.06 0 0 0-1.054-.26c-.81 0-1.427.276-1.849.843a3.88 3.88 0 0 0-.616 2.27c0 .47.049.876.162 1.25.096.353.262.683.487.972.21.276.47.487.778.649s.649.26 1.054.26c.454 0 .81-.098 1.119-.276s.551-.438.762-.714c.195-.292.34-.616.422-.973a6 6 0 0 0 .13-1.167Zm3.422-7.817h1.946v1.85h-1.946zm0 3.373h1.946v8.855h-1.946zm3.681-3.373h1.946v12.228h-1.946zm7.881 12.487a4.6 4.6 0 0 1-1.88-.373c-.526-.227-1-.558-1.395-.973a4.2 4.2 0 0 1-.86-1.46 5.82 5.82 0 0 1 0-3.73 3.9 3.9 0 0 1 2.254-2.432c.552-.26 1.184-.389 1.881-.389s1.33.114 1.881.357a4.3 4.3 0 0 1 1.395.973c.373.405.665.908.86 1.476a5.72 5.72 0 0 1 0 3.73 3.9 3.9 0 0 1-2.255 2.432 4.9 4.9 0 0 1-1.88.373v.016Zm0-1.557a2.24 2.24 0 0 0 1.898-1.005 3.1 3.1 0 0 0 .454-.973 4.5 4.5 0 0 0 0-2.27 2.9 2.9 0 0 0-.454-1.006 2.27 2.27 0 0 0-1.898-.973 2.24 2.24 0 0 0-1.897.973 2.9 2.9 0 0 0-.454.99 4.46 4.46 0 0 0 0 2.27c.088.355.242.69.454.989.21.292.47.551.778.73.34.194.728.289 1.12.275Zm5.027-7.557H93.6v-2.66h1.946V12h1.751v1.46h-1.751v4.718l.032.535c.017.163.065.292.114.39a.65.65 0 0 0 .276.227c.13.048.291.08.519.08l.405-.015.405-.065v1.508l-.632.065c-.211.032-.406.032-.633.032-.519 0-.924-.048-1.232-.146a1.8 1.8 0 0 1-.73-.422 1.5 1.5 0 0 1-.356-.697 5.5 5.5 0 0 1-.114-.973v-5.221h-1.476V12z"></path><path fill="#00B67A" d="M23.303 8.66H14.4L11.66.161 8.902 8.66H0l7.2 5.255-2.757 8.497 7.2-5.254 7.2 5.254-2.74-8.498z"></path><path fill="#005128" d="m16.72 15.843-.617-1.93-4.443 3.244z"></path></svg>
                </div>
                <span className="flex gap-x-[4px]">
                    {Stars}
                </span>
            </div>
        </div>
    );
}
export default ReviewCard;